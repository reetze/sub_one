
<h2>Your sub requests</h2>

<div class="row mb-3">
  <div class="col-md-12">
    <table class="table">
      <tr>
        
        <th>Environment</th>
        <th>Format</th>
        <th>Gender</th>
        <th>Level</th>
        <th></th>
        <th>Coed player</th>
        <th>Position</th>
        <th>Location</th>
        <th>Game time</th>
        <th>Sender</th>
        <th>
        </th>
      </tr>

      <% @sub_requests.each do |sub_request| %>
      <tr>
        
        <td><%= sub_request.league_environment.capitalize %></td>
        <td><%= sub_request.league_format.capitalize %></td>
        <td><%= sub_request.league_gender.capitalize %></td>
        <td><%= sub_request.league_level.capitalize %></td>
        <%if sub_request.competition_level == "" %>
          <td></td>
        <%else%>
          <td><%= sub_request.competition_level.upcase %></td>
        <%end%>
        <%if sub_request.league_gender == "coed" %>
          <td><%= sub_request.player_gender.capitalize %></td>
        <%else%>
          <td></td>
        <%end%>
        <td><%= sub_request.position.capitalize %></td>
        <td><%= sub_request.game_location %></td>
        <td><%= sub_request.game_datetime.strftime("%a %-m/%e/%y %I:%M %p") %></td>
        <td><%= User.where({ :id => sub_request.sender_id}).at(0).first_and_last_init %></td>

        <td>
          <a href="/sub_requests/<%= sub_request.id %>">
            Show details
          </a>
        </td>
      </tr>
      <% end %>
    </table>
  </div>
</div>

<hr>

<h2>Your playing levels</h2>

<div class="row mb-3">
  <div class="col-md-12">
    <table class="table">
      <tr>
        <th>ID</th>
        <th>User</th>
        <th>Format indoor</th>
        <th>Format grass</th>
        <th>Format sand</th>
        <th>Players six</th>
        <th>Players four</th>
        <th>Players three</th>
        <th>Players two</th>
        <th>League gender womens</th>
        <th>League gender mens</th>
        <th>League gender coed</th>
        <th>Level recreational</th>
        <th>Level intermediate</th>
        <th>Level upper intermediate</th>
        <th>Level competitive</th>
        <th>Comp level aa</th>
        <th>Comp level a</th>
        <th>Comp level bb</th>
        <th>Comp level b</th>
        <th>Position setter</th>
        <th>Position outside hitter</th>
        <th>Position rightside hitter</th>
        <th>Position middle hitter</th>
        <th>Position libero</th>
        <th>Position player</th>
        <th>Created at</th>
        <th>Updated at</th>
        <th></th>
      </tr>

      <% @playing_profiles.each do |playing_profile| %>
      <tr>
        <td><%= playing_profile.id %></td>
        <td><%= playing_profile.user_id %></td>
        <td><%= playing_profile.format_indoor %></td>
        <td><%= playing_profile.format_grass %></td>
        <td><%= playing_profile.format_sand %></td>
        <td><%= playing_profile.players_six %></td>
        <td><%= playing_profile.players_four %></td>
        <td><%= playing_profile.players_three %></td>
        <td><%= playing_profile.players_two %></td>
        <td><%= playing_profile.league_gender_womens %></td>
        <td><%= playing_profile.league_gender_mens %></td>
        <td><%= playing_profile.league_gender_coed %></td>
        <td><%= playing_profile.level_recreational %></td>
        <td><%= playing_profile.level_intermediate %></td>
        <td><%= playing_profile.level_upper_intermediate %></td>
        <td><%= playing_profile.level_competitive %></td>
        <td><%= playing_profile.comp_level_aa %></td>
        <td><%= playing_profile.comp_level_a %></td>
        <td><%= playing_profile.comp_level_bb %></td>
        <td><%= playing_profile.comp_level_b %></td>
        <td><%= playing_profile.position_setter %></td>
        <td><%= playing_profile.position_outside_hitter %></td>
        <td><%= playing_profile.position_rightside_hitter %></td>
        <td><%= playing_profile.position_middle_hitter %></td>
        <td><%= playing_profile.position_libero %></td>
        <td><%= playing_profile.position_player %></td>
        <td><%= time_ago_in_words(playing_profile.created_at) %> ago</td>       <td><%= time_ago_in_words(playing_profile.updated_at) %> ago</td>

        <td>
          <a href="/playing_profiles/<%= playing_profile.id %>">
            Show details
          </a>
        </td>
      </tr>
      <% end %>
    </table>
  </div>
</div>

<hr>

<h2>Edit your profile</h2>

<div >

  <div>
    <form action="/modify_user" method="post">
      <div>
        <label for="email_box">Email</label>
        <input id="email_box" name="query_email" value="<%= @current_user.email %>">
      </div>

     <div>
        <label for="password_box">Password</label>
        <input id="password_box" name="query_password" placeholder="Choose a password..." type="password">
      </div>
    
      <div>
        <label for="password_confirmation_box">Password Confirmation</label>
        <input id="password_confirmation_box" name="query_password_confirmation" placeholder="Confirm your password..." type="password">
      </div>

      <div>
        <label for="first_name_box">First name</label>
        <input id="first_name_box" name="query_first_name" value="<%= @current_user.first_name %>">
      </div>
      <div>
        <label for="last_name_box">Last name</label>
        <input id="last_name_box" name="query_last_name" value="<%= @current_user.last_name %>">
      </div>

      <div>
        <label for = "gender_box">Gender for coed leagues</label>
        <select type="dropdown" id="gender_box" name="query_gender" class="form-control" style = "width: 25%;">
            <option value="<%=@current_user.coed_gender%>"><%=@current_user.coed_gender.capitalize%></option>
            <option value="female">Female</option>
            <option value="male">Male</option>
        </select>
      </div>


      <button>
        Update account
      </button>
    </form>
  </div>
</div>